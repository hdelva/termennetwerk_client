<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Autocomplete demo</title>
    <script src="dist/bundle.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.4.1/milligram.css">
    <style>
        .result {
            padding: 0.3em 0em;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="row" style="height: 5rem">
        </div>

        <div class="row">
            <div class="column column-80 column-offset-10">
                <input id="autocomplete" type="text" placeholder="Ask a question">
            </div>
        </div>

        <div class="row">
            <div class="column column-100" id="results">

            </div>
        </div>

    </div>

    <script>
        const autocomplete = new TreeComplete([
            "https://termen.opoi.org/nta",
            "https://termen.opoi.org/vtmk",
            "https://termen.opoi.org/cht",
            "https://termen.opoi.org/rkdartists"
        ], 10);
        const inputField = document.getElementById("autocomplete");
        const resultsElement = document.getElementById("results");

        autocomplete.on("data", (arr) => {
            resultsElement.innerHTML = "";
            for (const quad of arr) {
                resultsElement.innerHTML += 
                    '<div class="row result">' 
                    + '<div class="column column-20 column-offset-10">' + quad.object.value + "</div>" 
                    + '<div class="column column-60" style="text-align: right;"> <a href=' + quad.subject.value + ">" + quad.subject.value + "</a></div>";
                    + '</div>'
            }
        });

        inputField.addEventListener("input", function (e) {
            var a, b, i, val = this.value;

            if (!val) {
                resultsElement.innerHTML = "";
                return false;
            }

            autocomplete.query(val);
        });
    </script>
</body>

</html>